<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Psyche Data Models</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="https://use.typekit.net/lki6fdw.css">
</head>
<body>
    <!--Splash screen-->
    <div class="splash">   
        <h1 >Psyche</h1>
        <h3 >The kinds of data we can gain from orbit</h3>
    </div>

    <!--Before hitting start button-->
    <div class="intro">
        <h2>Psyche Orbital Data</h2>
        <p>
            In January 2027, the Psyche Spacecraft will begin orbiting the
            asteroid, gathering data on it’s surface, composition, and
            interior structure. This is a visiulization of the data we
            hope to gain accross four different phases of orbits.  
        </p>
        <button id="startButton" type="button">Start</button>
    </div>

    <!--After hitting start button-->
    <div class="orbits">
        <h2>Orbit Phases</h2>

        <p>
            The spacecraft will be constantly gathering data, but because of
            distance, stability, and lighting, certain kinds of data will be
            prioritized for particular groups of orbits. Click on each one
            to learn more!
        </p>

        <!--buttons for orbits and descriptions-->

        <!--shows topographic model-->
        <button id="orbitA" type="button">Orbit A</button>
        <p id="pA">
            For the first part of our exploration, we will be focused on
            measuring the gravity and magnetic fields using radio and the
            magnetometer. This is essential to allow us to proceed closer to
            the asteroid for the following orbits.
        </p>

        <!--shows painted model-->
        <button id="orbitB" type="button">Orbit B</button>
        <p id="pB">
            This period will provide the best lighting to create high
            resolution images and maps of the surface. The other instruments
            will continue gathering data but the main focus will be on using
            the Imager.
        </p>

        <!--shows cut-out model--> 
        <button id="orbitC" type="button">Orbit C</button>
        <p id="pC">
            This set of orbits continue to attain images where feasible, but
            will focus on completing the gravity and magnetic field science
            objectives.
        </p>

        <!--shows composition model-->
        <button id="orbitD" type="button">Orbit D</button>
        <p id="pD">
            Finally, we will work on obtaining a complete analysis of the
            elemental composition so we can gain a better understanding of
            the asteroid’s composition and formation. [model changes to
            composition appearance] Equatorial orbit is more stable.
        </p>
    </div>

    <!--javascript behaviors-->
    <script src="js/app.js"></script>

    <!--three.js install-->
    <script async src="https://unpkg.com/es-module-shims@1.3.6/dist/es-module-shims.js"></script>

    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.139.2/build/three.module.js"
        }
      }
    </script>
    
    <script type="module">
        import * as THREE from 'three';
        var scene = new THREE.Scene();

        // camera settings
        var camera = new THREE.PerspectiveCamera(40, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 5;

        // import orbit controls
        import { OrbitControls } from 'https://unpkg.com/three@0.139.2/examples/jsm/controls/OrbitControls.js';
        const controls = new OrbitControls( camera, renderer.domElement );

        // object imports
        import { GLTFLoader } from 'https://unpkg.com/three@0.139.2/examples/jsm/loaders/GLTFLoader.js';
        const loader = new GLTFLoader();
        loader.load( 'js/models/PsycheHeightMap_Large.glb', function ( gltf ) {
            scene.add( gltf.scene );
        }, undefined, function ( error ) {
            console.error( error );
        } );

        // object settings


        // lighting
        var light = new THREE.PointLight(0xffffff, 1, 500);
        light.position.set(10, 0, 25);
        scene.add(light);

        // render settings
        var renderer = new THREE.WebGLRenderer({antialias: true});
        renderer.setClearColor("#302144");
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        window.addEventListener('resize', () => {
            renderer.setSize(window.innerWidth, window.innerHeight);
            camera.aspect = window.innerWidth, window.innerHeight;
            camera.updateProjectionMatrix();
        })

        var render = function() {
            requestAnimationFrame(render);
            renderer.render(scene,camera);
        }

        render();      
        
    </script>

</body>
</html>
